import{a as m}from"./assets/vendor-N5iQpiFS.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();const p="47502659-8e710eb0ff3e952458316b5b2",h="https://pixabay.com/api/";async function l(t,n=1,s=15){try{return(await m.get(h,{params:{key:p,q:t,page:n,per_page:s,image_type:"photo",orientation:"horizontal"}})).data}catch(o){console.error("Ошибка запроса:",o)}}function d(t){const n=document.querySelector(".gallery"),s=t.map(o=>`
      <div class="photo-card">
        <img src="${o.webformatURL}" alt="${o.tags}" loading="lazy" />
        <div class="info">
          <p class="info-item"><b>Likes</b> ${o.likes}</p>
          <p class="info-item"><b>Views</b> ${o.views}</p>
          <p class="info-item"><b>Comments</b> ${o.comments}</p>
          <p class="info-item"><b>Downloads</b> ${o.downloads}</p>
        </div>
      </div>`).join("");n.insertAdjacentHTML("beforeend",s)}function y(){document.querySelector(".load-more").classList.remove("hidden")}function u(){document.querySelector(".load-more").classList.add("hidden")}let c="",i=1;const b=document.querySelector("#search-form"),g=document.querySelector(".load-more");b.addEventListener("submit",L);g.addEventListener("click",f);async function L(t){if(t.preventDefault(),c=t.target.elements.query.value.trim(),!c)return;i=1,u();const n=await l(c,i);d(n.hits),n.hits.length>0&&y()}async function f(){i+=1;const t=await l(c,i);d(t.hits),(t.hits.length===0||i*15>=t.totalHits)&&(u(),alert("We're sorry, but you've reached the end of search results."))}window.addEventListener("scroll",()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-100&&f()});
//# sourceMappingURL=index.js.map
